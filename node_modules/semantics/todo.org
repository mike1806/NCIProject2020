* ну распознается как существительное

* DONE Положительные слова
** en
I affirm
I allow
I am
I am willing
I can
I choose
I create
I follow
I know
I know, without a doubt
I make
I realize
I take action
I trust
In every way
In this moment
let go
mind-blowing
absolutely
abundant
accept
acclaimed
accomplished
accomplishment
achievement
achieving
action
active
activist
acumen
adjust
admirable
admire
admired
adopt
adorable
adored
adventure
adventurous
affirmative
affluent
agree
agreeable
airy
alert
aligned
alive
alliance
alter
amaze
amazing
amity
animated
answer
appealing
appreciate
appreciation
approve
aptitude
artistic
assertive
astonish
astounding
astute
attentive
attractive
auspicious
authentic
awake
aware
basic
beaming
beautiful
believe
benefactor
benefit
best
bighearted
blessed
bliss
bloom
bold
bountiful
bounty
brave
bright
brilliant
brisk
bubbly
bunch
buoyant
burgeon
calm
capable
celebrate
centered
certain
change
character
charitable
charming
cheer
cheerful
cherish
clarity
classy
clean
clear
clever
closeness
commend
companionship
competent
complete
comradeship
confident
connect
connected
conscious
considerate
constant
content
convenient
conviction
copious
core
coupled
courageous
creative
cuddle
cultivate
cure
curious
cute
daring
day
dazzling
delicious
delight
delightful
desirable
determined
diligent
direct
discerning
discover
distinguished
divine
donate
dynamic
each
eager
earnest
easy
ecstasy
effervescent
efficient
effortless
electrifying
elegance
elegant
eloquent
embrace
encompassing
encourage
endless
endorse
energetic
energized
energy
engaging
enhancing
enjoy
enormous
enormously
enterprising
enthuse
enthusiastic
enticing
entirely
essence
established
esteem
esteemed
everyday
everyone
excellent
exceptional
excited
exciting
exhilarating
expand
experienced
explore
express
exquisite
exultant
fabulous
fair
faith
familiar
family
famous
far-sighted
fascinating
feat
fine
fit
flattering
flourish
flourishing
for
fortunate
fortune
free
freedom
fresh
friendly
friendship
fulfilled
full
fun
funny
gather
generous
genius
genuine
gifted
give
glad
glorious
glow
glowing
good
good-looking
gorgeous
grace
graceful
gracious
grand
gratitude
great
green
grin
group
grow
handsome
happy
hardy
harmonious
harmony
healed
healing
healthful
healthy
heart
hearty
heavenly
helpful
here
highest
hold
holy
honest
honored
hug
humorous
idea
ideal
imaginative
impressive
increase
incredible
independent
industrious
ingenious
innate
innovate
innovative
inspire
inspired
instantaneous
instinct
intellectual
intelligence
intelligent
interested
interesting
intuitive
inventive
invincible
inviting
irresistible
joined
jovial
joy
joyous
jubilation
judicious
keen
key
kind
kiss
knowing
knowledge
laugh
leader
learn
legendary
light
limitless
lively
love
loveliness
loving
lucidity
lucky
lucrative
luminous
magical
magnificent
maintain
marvellous
marvelous
master
masterful
meaningful
meditate
mend
metamorphosis
mighty
miracle
miraculous
mission
modify
motivate
motivated
moving
natural
nature
neat
nice
noble
nourish
nourished
novel
now
nurture
nurturing
nutritious
one
open
openhanded
optimistic
outstanding
paradise
party
passionate
peace
peaceful
perfect
persevering
persistent
phenomenon
playful
pleasing
pleasure
plenteous
plentiful
plenty
plethora
poise
polish
popular
positive
powerful
precious
prepared
pretty
principle
productive
profound
project
prominent
prompt
prosperous
protect
proud
purpose
qualified
quest
quick
quiet
radiant
ready
reasonable
recognized
refined
refinement
refresh
refreshing
rejoice
rejuvenate
relax
relaxing
reliable
reliance
rely
remarkable
renew
renowned
replenished
resolute
resolution
resound
resourceful
resources
respect
respected
restore
revered
revolutionize
rewarding
rich
right now
robust
rousing
safe
satisfied
secure
seductive
see
self-reliant
sensation
sensational
sensible
sensitive
serene
serenity
sharing
shift
shine
shown
silence
simple
sincerity
skilful
smart
smashing
smile
smooth
smooth
solution
soul
sparkling
spirit
spirited
spiritual
splendid
spontaneous
stillness
stir
stirring
strong
stunning
style
success
successful
sunny
superb
support
sure
surprise
sustain
swift
synchronized
talented
team
tenacious
terrific
thankful
therapeutic
thorough
thrilled
thrilling
thrive
thriving
tied
timely
today
together
tranquil
transform
triumph
trust
trusting
truth
truthful
ultimate
unique
unity
unusual
unwavering
upbeat
valiant
valuable
valued
vary
venerated
venture
versatile
vibrant
victorious
victory
vigorous
vision
visualize
vital
vivacious
vivid
voyage
warm
wealthy
welcome
well
whole
wholesome
willing
wise
with
wonder
wonderful
wondrous
worthy
yes
young
youthful
zeal
zest
** ru
Я утверждаю
Я позволяю
Я готов
Я могу
Я выбираю
Я создаю
Я следую
Я знаю
Я делаю
Я понимаю
Я принимаю меры
Я доверяю
В любом случае
В этот момент
добро пожаловать
жизненно важный
приходить в восторг
дружеское общение


      я утверждаю
      я позволяю
      я готов
      я могу
      я выбираю
      я создаю
      я следую
      я знаю
      я делаю
      я понимаю
      я принимаю меры
      я доверяю




в центре
вводить новшества
вдохновлять
вера
веселье
вид


воспитание
восстановление
восторг
уравновешенность
выдающийся
выполнен
выровнены
гармония
гений
группа
давать
движущийся
действие
день
доверие
достижение
дружба
дух
душа
единство

состояние
спокойствие
способности
стиль
сущность
сюрприз
товарищество
триумф
убежденность
уважение
удовольствие
улыбка
успех
характер
цвести
цедра
цель
ценить
чинить
чрезвычайно
чудо
шампанское
щедрость
экстаз
элегантность
энергия
явление

ярмарка
ясность
признательность

*** Глаголы
верить
визуализировать
возделывать
возобновить
восхищаться
выражать
держать
жертвовать
звучать
знать
изменять
изменяться
исследовать
лелеять
любоваться
мотивировать
наслаждаться
одобрять
омолаживать
определяться
открывать
отпускать
оценивать
питать
питаться
поддерживать
полагаться
полировать
поощрять
пополняться
праздновать
привлекать
приглашать
прижиматься
принимать
процветать
радоваться
размышлять
распускаться
расслабляться
расти
расширять
регулировать
светиться
смеяться
смотреть
собирать
соглашаться
соединяться
соответствовать
стремиться
трансформировать
убедиться
удивлять
учиться
читать


*** Существительные
альянс
активист
безмятежность
благодарность
благодать
благодетель
блаженство
блеск
близость
залог
защита
знание
зрение
идея
изменение
изобилие
изысканность
инстинкт
интеллект
искренность
исцеление
ключ
команда
красота
лидер
лечение
ликование
любовь
мастер
мастерская
метаморфоза
мир
миссия
молчание
награждение
неподвижность
обновление
объятие
один
опора
ответ
ощущение
партия
перемешивание
переполох
победа
повышение
подвиг
поддержка
поиск
польза
правда
предприятие
приключение
принцип
природа
проект
проницательность
путешествие
радость
разрешение
рай
распределение
рвение
регистрация
ресурс
решение
роман
самостоятельность
свет
свобода
связка
сдвиг
семья
сердце
содержание
поцелуй

*** Наречия
ядро - сущ
ясно
ура  - междометье
прямо [предог, сейчас]
сейчас
сегодня
здесь
полностью
быстро
абсолютно
бесплатно
хорошо
довольно
легко
много
вместе
своевременно




226
*** Прилагательные
расслабляющий  - добавить?
светящийся     - добавить?

авантюрный
аккуратный
активный
анимационный
аутентичный
баснословный
безграничный
безмятежный
безопасный
бесконечный
благодарный
благоприятный
благородный
благословенный
благотворительный
блестящий
богатый
бодрствующий
божественный
большой
быстрый
вдохновленный
великий
великолепный
веселый
взволнованный
видный
внимательный
возбужденный
воздушный
волнующий
воодушевляющий
восторженный
восхитительный
впечатляющий
врожденный
выполненный
гармоничный
глубокий
гордый
готовый
грациозный
дальновидный
динамический
доблестный
доверчивый
достойный
драгоценный
дружественный
духовный
желательный
живой
заинтересованный
замечательный
заслуженный
захватывающий
здоровый
зеленый
знакомый
знаменитый
значимый
игривый
идеальный
известный
изобретательный
изысканный
инновационный
интеллектуальный
интересный
интуитивный
исключительный
искусный
исцеленный
каждый
квалифицированный
классный
компетентный
конечный
красивый
красноречивый
легендарный
легкий
лестный
ликующий
лучистый
лучший
любопытный
любящий
магический
мгновенный
милостивый
милый
мирный
могущественный
молодой
мотивированный
мощный
мудрый
надежный
наивысший
напористый
находчивый
небесный
невероятный
независимый
необычный
неотразимый
непобедимый
непоколебимый
обильный
обожаемый
образный
огромный
одаренный
оживленный
определенный
оптимистичный
опытный
освежающий
ослепительный
основной
острый
отличный
охватывающий
очаровательный
ошеломляющий
питательный
плавный
плавучий
победоносный
повседневный
подготовленный
подлинный
показанный
полезный
полный
положительный
популярный
поразительный
постоянный
потрясающий
поцелуй
почитаемый
правдивый
превосходный
предприимчивый
прекрасный
прибыльный
привлекательный
признанный
прилежный
приличный
природный
приятный
продуктивный
проницательный
проницательный
простой
процветающий
прямой
пылающий
радостный
разносторонний
разумный
рассудительный
решительный
свежий
сверкающий
связанный
святой
сенсационный
сердечный
сильный
синхронизированный
сияющий
славный
смелый
смешной
соблазнительный
сознательный
сокрушительный
солнечный
состоятельный
спокойный
спонтанный
способный
стойкий
страстный
счастливый
тактичный
талантливый
творческий
теплый
терапевтический
тихий
трудолюбивый
тщательный
уважаемый
уверенный
увлекательный
удивительный
удобный
удовлетворенный
умный
уникальный
упорный
успешный
установленный
утвердительный
храбрый
художественный
целебный
ценный
цепкий
честный
чистый
чувствительный
чудесный
чудотворный
шипучий
шокирующий
щедрый
элегантный
электризующий
энергичный
эффективный
юмористический
яркий










* DONE Зависимости пакетов

* DONE Склонение существительных

* TODO Интонация направленная на человека
* DONE Подсчет слов - учитывать отдельно русские и английские слова
* TODO Усиление вопросительным и воскл знаком.
* DONE Перенести в консольную версию
* DONE Восклицательные и вопросительные знаки в предложениях
* TODO Написать тесты
* DONE Улучшение статистики [5/5]
  - [X] Букв в слове (сред)
  - [X] Слов в предложении (сред)
  - [X] Неизменяемые части речи в отдельном списке
  - [X] Улучшить разбивку на предложения (инициалы, url)
  - [X] Не удалять url из предложений

* DONE Все операции применять по предложениям
* DONE Выискивать совпадения собственных имен с людьми и объединять
* DONE Римские цифры
* DONE Разделить названия в кавычках и цитаты
* DONE Ошибка если нет имен собственных
* TODO Склонять слова в названиях
* TODO Медиа-контент
* DONE Исправить emoScore для habr0.txt (равен 1)
* DONE Местоположение (улицы) [http://mosopen.ru/]

  поселок ...
  посёлок ...
  пос. ...

  аллея,
  проспект
  проезд
  мост
  шоссе
  район
  р-н
  площадь
  тупик
  переулок
  пер.
  бульвар
  б-р
  набережная
  наб.
  деревня
  дер.

  числительные (1-я 2-я и проч.)


* TODO Выделение текста (bold/italic)
* DONE Проверить аббревиатуры
* DONE Changelog
* DONE Стоп-слова
* DONE Формы для получения словосочетаний
* TODO Добавление опций для плагинов [6/8]
  - [X] словарь хороших слов
  - [X] словарь плохих слов
  - [X] словарь стоп-слов
  - [X] функция для вычисления формулы
  - [ ] длинные слова
  - [X] модели для слов (сущ, прил. и проч.)
  - [X] Ссылок в тексте

* TODO Формула
  Метрики формулы:
  |-------+-----------------------------------------|
  | wc    | кол-во слов                             |
  | cc    | кол-во знаков                           |
  | sc    | кол-во предложений                      |
  | rw    | кол-во обычных слов (предлогов, союзов) |
  | sw    | кол-во стоп-слов                        |
  | swp   | процент стоп-слов                |
  | refc  | кол-во ссылок                           |
  | wmid  | ср. длина слова                         |
  | smid  | ср. длина предложения                   |
  | mimic | кол-во мимими                           |
  | emoc  | кол-во смайлов                          |
  | qc    | кол-во цитат                            |
  | q2wc  | кол-во словосочетаний из 2-х слов       |
  | q3wc  | кол-во словосочетаний из 3-х слов       |
  | q4wc  | кол-во словосочетаний из 4-х слов       |
  | q5wc  | кол-во словосочетаний из 5-ти слов      |
  | qdc   | кол-во цифр                             |
  |       |                                         |
  | ref0p | позиция первой ссылки                   |
  | ref$p | позиция последней ссылки                |
  | hc    | кол-во хеш-тегов                        |
  | h0p   | перв                                    |
  | h$p   | посл                                    |
  | mc    | кол-во упоминаний                       |
  | m0p   | перв                                    |
  | m$p   | посл                                    |
  | kwc   | кол-во ключевых слов                    |
  | kw0p  | перв                                    |
  | kw$p  | посл                                    |
  | cwc   | кол-во своих слов                       |
  | cw0p  | перв                                    |
  | cw$p  | посл                                    |
  | qm    | вопросов                                |
  | em    | восклицаний                             |
  |-------+-----------------------------------------|
  из метаинформации
  |---+-------------------|
  |   | местоположение, Х |
  |   | местоположение, У |
  |   | время (unixtime)  |
  |   | favorites         |
  |   | retweets          |
  |   |                   |
  |   |                   |
  |   |                   |
  |---+-------------------|

  Результаты должны быть представлены в виде плоской функции



* DONE Плагин для твиттера [14/15]
  - [X] Выделение пользователей
  - [X] Выделение хеш-тегов
  - [X] количество хеш-тегов в твите
  - [X] упоминания (mentioned)
  - [X] Подсчет хахаха и хихихи
  - [X] Смайлы
  - [X] Расширенный парсинг - улучшенное выделение точек, запятых и других знаков препинания
  - [X] Разделение СловБезПробелов
  - [X] Склеивать смайлы
  - [X] В каком месте текста идет ссылка
  - [X] Ключевые слова твиттера
  - [X] В каком месте текста расположен(ы) mentioned
  - [X] В каком месте текста расположен(ы) хеш-теги
  - [X] В каком месте текста расположен(ы) ключевые слова твиттера


** Вычисление положения

** Смайлы
[ "-", ")", ",", "(", "-:", ":o", ":", "*", ":-", "-D", "%-", ":~", ">:-", "[", "&", "~", ":/", ":-8", ":,-", "]", ">", "8-", ";-", ";", "?", "|-", "\"", "!", ":-$", "%", "+", "|", "{", "X-", "<:-", "@;-", "X:-", ":>", "#:-", "8:-", "B-", "O:-", "}", "#", "X", "d", "-o", "~:-", "~~:-", "M-", ":X", "8", "O", "||", "<{:-", "<" ]
** Подсчет mimimi 
  Наличие гласных и слогов повторяющихся в слове
  Гласные eyuioa уеыаоэяию

  разделение после гласных:
  mimimi -> ["mi", "mi", "mi"]

  syllables = []
  syllable = ""
  for c in str
    unless c in "eyuioaуеыаоэяию"
      syllable += c
    else
      syllables.push syllable + c
      syllable = ""
  if syllable
    syllables.push syllable

  syllables.reverse()
  mimi = util.arrayToDict syllables
  result =  total: 0, found: no
  for k,v of mimi
    if v >= 3
      result.total += v
  if result.total >= 3
    result.src = str
    result.found = yes
  return result


** Ключевые слова  (также http://forum.penzadom.ru/index.php?showtopic=5720)
   (еще тут http://www.requiem.in/topic/3113-abriviaturi-sokrashenija-termini/page__st__20)

/(^|\s)(BG|BFN|BR|BTW|DM|EM|FB|FU|FTF|FWIW|Gr8|IMO|IMHO|IRL|LI|LMK|LMBO|LMAO|LOL|NP|OMG|OMFG|PLZ|ROFL|RT|RTHX|TMB|TMI|TTYS|TTYL|TY|WTH|WTF|YW|\<3|уг|хз|мб|пнх)(\s|$)/


*** русские
уг
хз
мб
пнх



*** english
   
b/c = Because

BG = Background (when someone refers to their Twitter background page)

BFN = Bye for now

BR = Best regards

BTW = By the way

DM = Direct message

EM = Email

FB = Facebook

FTF = Face to face

FWIW = For what it’s worth

Gr8 = Great

IMO = In my opinion

IMHO = In my honest opinion or in my humble opinion

IRL = In real life

J/K = Just kidding

LI = LinkedIn

LMK = Let me know

LMBO = Laughing my butt off

LMAO = Laughing my ass off

LOL = Laughing out loud

NP = No problem

OMG = Oh my God

OMFG = Oh my f—- God

PLZ = Please

ROFL = Rolling on the floor laughing

RT = Retweet

RTHX = Thanks for the retweet

TMB = Tweet me back

TMI = Too much information

TTYS = Talk to you soon

TTYL = Talk to you later

TY = Thank you

WTH = What the heck

WTF = What the f—

YW = You’re welcome

<3 = This is the text version of a heart

* DONE Плагин для людей (внести ФИО, twitter, bio?)

* DONE Обновить Readme.md

* DONE Создать механизм фильтров (через плагины)
**  Предобработка
**  Постобработка
** Реализация
   Плагины передаются либо целиком (функция фильтрации), либо по имени для встроенных плагинов.
* DONE Как заставить работать в браузере
* DONE Перевести все что можно в плагины
* DONE Счетчики [100%]
  - [X] Символов
  - [X] Слов всего
  - [X] Всего знаков
* DONE misc
  - [X] Смайликов
  - [X] Цифры в тексте

* Усиление
  аргументированный
  импульсивный
  смеялись

* DONE Слова с эмоциональным окрасом
** DONE многословные:
    при отягчающих обстоятельствах
    ненависть к
    в убыток
    сыт[аы]? по горло
    заслужива[ею]т наказания
    находящихся под угрозой исчезновения
    в заблуждение
    сбит[] с толку
    в ужасе
    не рекомендуется[]
    не одобряли
    пятно на
    в клетке
    неправильно понял[]
    вне пределов досягаемости
    взял на
    играли с
    черный список

** DONE в одной форме
    боль
    вниз
    горе
    дно
    мало
    мучение
    недовольство
    плохо
    противно
    совестно
    только
    ужас

** TODO остальные
    боящийся
    запутавшийся
    колеблющийся
    нуждающийся
    опасающийся
    отключившийся
    отчаявшийся
    пресмыкающийся

    давление
    дерьмо
    диагноз
    дискриминация
    зависимость
    закрыто
    инвалид
    клаустрофобия
    козёл
    критика
    курица
    нападение
    недостатки
    ненависть
    неприязнь
    неуважение
    обязан
    отвращение
    отчаяние
    паника
    презрение
    свинья
    синяк
    собака
    сожаление
    сомнение
    страх
    темнота
    тоска
    уныние
    ярость


    
    тюрьма
    опьянение
    допрос
    плохой
    сухой
    перегружен
    немой
    пустой
    душевнобольной
    смешной
    гнилой
    небольшой



    эгоистической
    саморазрушительной

** DONE глаголы:
    ========
    злоупотреблять
    избегать
    бить
    принижаться
    ругать
    шантажировать
    предавать
    обвинять
    сдувается
    беспокоить
    издеваться
    прослушивать
    стрелять
    преследовать
    уговаривать
    командовать
    соизволить
    столкнуться
    надувать
    опорочить
    освистать
    лишить
    ненавидеть
    диктовать
    отбрасывать
    отвлекаться
    сомневаться
    уклоняться
    подвергаться
    волноваться
    беспокоить
    ненавидеть
    пострадать
    препятствовать
    внушать
    молчать
    смолчать
    лгать
    солгать
    высмеивать
    манипулировать
    дрожать
    запутаться
    перепутаться
    раздражаться
    приставать
    грызть
    паниковать
    растаскивать
    толкнуть
    оттолкнуть
    подавить
    дребезжать
    сожалеть
    кричать на
    страдать
    отклонить
    обидеть
    рисковать
    любить (прошедшее время)
    изменять
    споткнуться
    пренебрегать
    отрекаться
    загнать
    унижать
    удалять
    снизиться
    игнорировать
    запугивать
    судить


  exports.enBindingWords = [ "a", "about", "after", "also", "am", "an", "and", "as", "at", "by", "don\"t", "for", "from", "in", "into", "is", "lot", "of", "oh", "on", "or", "over", "sake", "the", "to", "too", "up", "with", "yet" ]


  exports.enTopVerbs = ["accept", "allow", "ask", "believe", "borrow", "break", "bring", "buy", "can", "cancel", "change", "clean", "comb", "complain", "cough", "count", "cut", "dance", "draw", "drink", "drive", "eat", "explain", "fall", "fill", "find", "finish", "fit", "fix", "fly", "forget", "give", "go", "have", "hear", "hurt", "know", "learn", "leave", "listen", "live", "look", "lose", "make", "do", "need", "open", "close", "shut", "organise", "pay", "play", "put", "rain", "read", "reply", "run", "say", "see", "sell", "send", "sign", "sing", "sit", "sleep", "smoke", "speak", "spell", "spend", "stand", "start", "begin", "study", "succeed", "swim", "take", "talk", "teach", "tell", "think", "translate", "travel", "try", "turn off", "turn on", "type", "understand", "use", "wait", "wake up", "want", "watch", "work", "worry", "write"]






* Вырезал из index

  properNames = find text                # find proper names

  properNamesArray = []
  for id, pn of properNames
    pn.src.map (pnSrc) ->
      properNamesArray.push pnSrc unless pnSrc in properNamesArray

  # search regular words and links
  ruRe = /^[а-я\-ё]+$/ig
  enRe = /^[a-z\-]+$/ig
  wordRe = /^[а-яё\-\da-z]+$/ig
  urlRe = /https?:\/\/\S+/g
  if opts.all
    opts =
      useTwitterTags: yes
      searchLinks: yes
      expandLinks: yes
  else
    opts.useTwitterTags  = no if undefined is opts.useTwitterTags
    opts.searchLinks     = no if undefined is opts.searchLinks
    opts.expandLinks     = no if undefined is opts.expandLinks

  if opts.searchLinks
    urls = text.match urlRe
    text = text.replace urlRe, ""
  else
    urls = []

  punctuationRe = /([,:\/\\\?!\+\*\(\)\[\]\&\№\—])/gm
  endOfSentenceRe = /([\?\!])|(\.\s+)/gm
  text = text.replace(punctuationRe, " $& ").replace /\s+/g, " "
  properNamesArray.map (pn) ->
    text = text.replace pn, ""


  # quoted text
  ruQuotesRe = /(\"[-а-яё\d]+(\s[-а-яё\d]+){0,}\")|(\'[-а-яё\d]+(\s[-а-яё\d]+){0,}\')|(«[-а-яё\d]+(\s[-а-яё\d]+){0,}»)|(„[-а-яё\d]+(\s[-а-яё\d]+){0,}\“)/ig
  enQuotesRe = /(\"[-a-z\d]+(\s[-a-z\d]+){0,}\")|(\'[-a-z\d]+(\s[-a-z\d]+){0,}\')/ig
  quotedRe = /(\"[^\"]+\")|(\'[^\']+\')|(«[^»]+»)|(„[^“]“)/mig
  numRe = /((([а-яё]+)\s+){0,1}\d[\.\d]{0,}(\s+(([a-яё]+)|([\.\d]+))){1,6})|([12]\d\d\d)/mig


  ruMatchQuotes = util.unique text.match(ruQuotesRe) || []
  enMatchQuotes = util.unique text.match(enQuotesRe) || []
  numbers = util.unique text.match(numRe) || []

  quotes = []
  for q in util.unique text.match(quotedRe) || []
    quotes.push q unless (q in ruMatchQuotes or q in enMatchQuotes)


  # console.log "\n\nquotes: #{ruMatchQuotes.join '\n'}"
  # console.log "\nquoted: #{quoted.join '\n'}"

  ruDates = util.extractRuDates numbers

  unless /\./.test text
    text += "."

  sentences = []
  prev = ""
  for s, i in (text.split(endOfSentenceRe).filter (s) -> !!s)
    if i % 2 is 1
      sentences.push prev + s
    else
      prev = s

  parsedTextData = util.parseRuSentence sentences
  if util.dictKeys(ruDates.intervals).length > 0
    parsedTextData.date_intervals = util.packIntervals ruDates.intervals
  if util.dictKeys(ruDates.dates).length > 0
    parsedTextData.dates = util.packDates ruDates.dates
  if quotes.length > 0
    parsedTextData.quotes = quotes
  if properNamesArray.length > 0
    parsedTextData.properNames = properNamesArray
  parsedTextData

